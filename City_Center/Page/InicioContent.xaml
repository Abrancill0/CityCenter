<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:City_Center.View"
             BindingContext="{Binding Main, Source={StaticResource Locator}}"
             xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
             xmlns:view="clr-namespace:City_Center.Vista"
             xmlns:cv="clr-namespace:CarouselView.FormsPlugin.Abstractions;assembly=CarouselView.FormsPlugin.Abstractions"
             xmlns:xfx="clr-namespace:Xfx;assembly=Xfx.Controls"
             x:Class="City_Center.Page.InicioContent">
    <ContentPage.ToolbarItems>
        <ToolbarItem  Icon="Chat"/>
    </ContentPage.ToolbarItems>
    <ContentPage.Resources>

        <ResourceDictionary>
            <Style x:Name="StyleButton" TargetType="Button">
                <Setter Property="TextColor" Value="White" />
                <Setter Property="FontFamily" Value="Oswald-Bold" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="FontSize" Value="Default">
                </Setter>
            </Style>
            <Style x:Name="EntryStyle" TargetType="xfx:XfxEntry">
                <Setter Property="TextColor" Value="Black" />
                <Setter Property="FontFamily" Value="Roboto-Regular" />
                <Setter Property="ActivePlaceholderColor" Value="#7A5BA5" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>
    <ContentPage.Content>
        <StackLayout Spacing="0" BackgroundColor="#EFEFEF" BindingContext="{Binding Inicio}">
            <StackLayout>
                <ffimageloading:CachedImage Aspect="AspectFill" LoadingPlaceholder="image_loading.png" ErrorPlaceholder="image_error.png" Source="HOMEmin" HeightRequest="110" />
            </StackLayout>
            <StackLayout Padding="5,-30,0,0" HorizontalOptions="FillAndExpand" Orientation="Horizontal" Margin="10">
                <Image Aspect="AspectFit" Source="ReservacionHotel" VerticalOptions="Start" HorizontalOptions="End" WidthRequest="80" HeightRequest="80">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="Btn1_Clicked" />
                    </Image.GestureRecognizers>
                </Image>
                <Image Aspect="AspectFit" Source="TicketsShows" VerticalOptions="Start" HorizontalOptions="End" WidthRequest="80" HeightRequest="80">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="Btn2_Clicked" />
                    </Image.GestureRecognizers>
                </Image>
                <Image Aspect="AspectFit" Source="Reserva" VerticalOptions="Start" HorizontalOptions="End" WidthRequest="80" HeightRequest="80">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="Btn3_Clicked" />
                    </Image.GestureRecognizers>
                </Image>
                <Image Aspect="AspectFit" Source="Tienda" VerticalOptions="Start" HorizontalOptions="End" WidthRequest="80" HeightRequest="80">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="Btn4_Clicked" />
                    </Image.GestureRecognizers>
                </Image>
            </StackLayout>
            <ScrollView>
                <StackLayout>
                    <StackLayout x:Name="SL1" IsVisible="true" HorizontalOptions="FillAndExpand" Margin="5">
                        <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                            <Frame.Margin>
                                <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                            </Frame.Margin>
                            <Frame.Padding>
                                <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                            </Frame.Padding>
                            <StackLayout Orientation="Horizontal" BackgroundColor="#FFFFFF" HorizontalOptions="FillAndExpand">
                                <Grid HorizontalOptions="FillAndExpand">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="0" Grid.Row="0">
                                        <Label Text="Llegada">
                                        </Label>
                                        <DatePicker>
                                        </DatePicker>
                                    </StackLayout>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="1" Grid.Row="0">
                                        <Label Text="Salida">
                                        </Label>
                                        <DatePicker>
                                        </DatePicker>
                                    </StackLayout>
                                </Grid>
                            </StackLayout>
                        </Frame>
                        <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                            <Frame.Margin>
                                <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                            </Frame.Margin>
                            <Frame.Padding>
                                <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                            </Frame.Padding>
                            <StackLayout>
                                 <Label Text="Huéspedes" TextColor="Gray" Margin="5,2,0,0" FontSize="Small"></Label>
                            <Picker Margin="5" x:Name="NoPersona" Title="Huespedés"  ItemsSource="{Binding ListaOpciones}" ></Picker>
                          
                            </StackLayout>
                           
                        </Frame>
                        <Button Margin="30" FontSize="Small" TextColor="White" BackgroundColor="#250c4b" Clicked="Handle_Clicked" Text="VER OPCIONES" />
                    </StackLayout>
                    <StackLayout x:Name="SL2" IsVisible="false" HorizontalOptions="FillAndExpand" Margin="5">
                        <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                            <Frame.Margin>
                                <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                            </Frame.Margin>
                            <Frame.Padding>
                                <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                            </Frame.Padding>
                            <StackLayout Orientation="Horizontal" BackgroundColor="#FFFFFF" HorizontalOptions="FillAndExpand">
                                <Grid HorizontalOptions="FillAndExpand">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="0" Grid.Row="0">
                                        <Label Text="Rango de fecha">
                                        </Label>
                                        <DatePicker>
                                        </DatePicker>
                                    </StackLayout>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="1" Grid.Row="0">
                                        <Label Text="Hola" TextColor="White"/>
                                        <DatePicker>
                                        </DatePicker>
                                    </StackLayout>
                                </Grid>
                            </StackLayout>
                        </Frame>
                        <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                            <Frame.Margin>
                                <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                            </Frame.Margin>
                            <Frame.Padding>
                                <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                            </Frame.Padding>
                        </Frame>
                        <Button Margin="30, 20" FontSize="Small" TextColor="White" BackgroundColor="#250c4b" Text="VER OPCIONES" />
                    </StackLayout>
                    <StackLayout x:Name="SL3" IsVisible="false" HorizontalOptions="FillAndExpand" Margin="5">
                        <Grid HorizontalOptions="FillAndExpand">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*">
                                </ColumnDefinition>
                                <ColumnDefinition Width="1*">
                                </ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                                <StackLayout Grid.Row="0" Grid.ColumnSpan="2" Orientation="Horizontal" BackgroundColor="#FFFFFF" HorizontalOptions="FillAndExpand">
                                <Grid HorizontalOptions="FillAndExpand">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                        <ColumnDefinition Width="1*">
                                        </ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="0" Grid.Row="0">
                                        <Label Text="Fecha">
                                        </Label>
                                        <DatePicker Date="{Binding FechaInicio, Mode=TwoWay}">
                                        </DatePicker>
                                    </StackLayout>
                                    <StackLayout Margin="4" Orientation="Vertical" Grid.Column="1" Grid.Row="0">
                                        <Label Text="Hora">
                                        </Label>
                                        <TimePicker Time="{Binding HoraInicio, Mode=TwoWay}">
                                        </TimePicker>
                                    </StackLayout>
                                </Grid>
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                   <StackLayout>

                                      <Label Text="Huéspedes" TextColor="Gray" Margin="5,2,0,0" FontSize="Small"></Label>
                                      <Picker x:Name="NoPersona1"
                                              Title="Huespedés"
                                              SelectedItem="{Binding NoPersonas, Mode=TwoWay}"
                                              ItemsSource="{Binding ListaOpciones}"
                                              ></Picker>
                                    </StackLayout>


                               
                                </Frame>
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                    <StackLayout>
                                        <Label Text="Restaurants" TextColor="Gray" Margin="5,2,0,0" FontSize="Small"></Label>
                                      <Picker Margin="5" 
                                              x:Name="CR"
                                              Title="Seleccionar..."
                                              SelectedItem="{Binding NombreRestaurante, Mode=TwoWay}"
                                              ItemsSource="{Binding ListaOpciones2}" ></Picker>

                                    </StackLayout>

                                </Frame>
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                    <StackLayout>
                                       <Label Text="Silla para ninños" TextColor="Gray" Margin="5,2,0,0" FontSize="Small"></Label>
                                      <Picker Margin="5"
                                              x:Name="Combosillaniños"
                                               SelectedItem="{Binding SillaNiños, Mode=TwoWay}"
                                              ItemsSource="{Binding ListaOpciones3}"
                                              ></Picker>
                                     </StackLayout>
                             
                                </Frame>   
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                    <xfx:XfxEntry Placeholder="Nombre y Apellido*"
                                                  Text ="{Binding Nombre, Mode=TwoWay}"
                                                  Margin="5,0,5,0">
                                        <Entry.HeightRequest>
                                            <OnPlatform x:TypeArguments="x:Double">
                                                <On Platform="iOS">60</On>
                                                <On Platform="Android,Windows">60</On>
                                            </OnPlatform>
                                        </Entry.HeightRequest>
                                    </xfx:XfxEntry>
                                </Frame>
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                    <xfx:XfxEntry Placeholder="Correo Electrònico*"
                                                  Text ="{Binding Correo, Mode=TwoWay}"
                                                  Margin="5,0,5,0">
                                        <Entry.HeightRequest>
                                            <OnPlatform x:TypeArguments="x:Double">
                                                <On Platform="iOS">60</On>
                                                <On Platform="Android,Windows">60</On>
                                            </OnPlatform>
                                        </Entry.HeightRequest>
                                    </xfx:XfxEntry>
                                </Frame>
                            </StackLayout>
                            <StackLayout Orientation="Vertical" Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2">
                                <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                                    <Frame.Margin>
                                        <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                                    </Frame.Margin>
                                    <Frame.Padding>
                                        <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                                    </Frame.Padding>
                                    <xfx:XfxEntry Placeholder="Telèfono*"
                                                  Text ="{Binding Telefono, Mode=TwoWay}"
                                                  Margin="5,0,5,0" >
                                        <Entry.HeightRequest>
                                            <OnPlatform x:TypeArguments="x:Double">
                                                <On Platform="iOS">60</On>
                                                <On Platform="Android,Windows">60</On>
                                            </OnPlatform>
                                        </Entry.HeightRequest>
                                    </xfx:XfxEntry>
                                </Frame>
                            </StackLayout>
                        </Grid>
                        <Button Margin="30"
                                FontSize="Small"
                                TextColor="White"
                                BackgroundColor="#250c4b"
                                Text="RESERVAR"
                                Command ="{Binding ReservarCommand}"/>
                    </StackLayout>
                    <StackLayout x:Name="SL4" IsVisible="false">
                        <!--Content-->
                    </StackLayout>
                    <Frame IsClippedToBounds="True" HasShadow="True" BackgroundColor="White">
                        <Frame.Margin>
                            <OnPlatform x:TypeArguments="Thickness" Android="5" iOS="5" />
                        </Frame.Margin>
                        <Frame.Padding>
                            <OnPlatform x:TypeArguments="Thickness" Android="0" iOS="0" />
                        </Frame.Padding>
                        <StackLayout Orientation="Vertical" BackgroundColor="#FFFFFF" Margin="8">
                            <Grid HorizontalOptions="FillAndExpand">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*">
                                    </ColumnDefinition>
                                    <ColumnDefinition Width="1*">
                                    </ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Label Text="TORNEOS" HorizontalTextAlignment="Start" Margin="15,15,0,0" TextColor="#250c4b" FontFamily="Oswald-Regular" Grid.Row="0" Grid.Column="0" />
                                <Label Text="Ver Todo" HorizontalTextAlignment="End" Margin="0,15,15,0" TextColor="#250c4b" FontFamily="Oswald-Regular" Grid.Row="0" Grid.Column="1">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding ShowCommand}" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Grid>
                            <cv:CarouselViewControl ItemsSource="{Binding TorneoDetalle}" HorizontalOptions="FillAndExpand" HeightRequest="300">
                                <cv:CarouselViewControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="1*" />
                                                <ColumnDefinition Width="1*" />
                                                <ColumnDefinition Width="0.5*" />
                                                <ColumnDefinition Width="0.5*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="3*" />
                                                <RowDefinition Height="0.5*" />
                                                <RowDefinition Height="0.5*" />
                                            </Grid.RowDefinitions>
                                            <ffimageloading:CachedImage HeightRequest="150"
                                                                        Aspect="AspectFill"
                                                                        LoadingPlaceholder="image_loading.png"
                                                                        ErrorPlaceholder="image_error.png"
                                                                        Source="{Binding tor_imagen,StringFormat='http://cc.comprogapp.com/{0}'}"
                                                                        Grid.Row="0" Grid.ColumnSpan="4" >
                                              <ffimageloading:CachedImage.GestureRecognizers>
                                                    <TapGestureRecognizer  Command="{Binding VerDetalleCommand}"  />
                                                </ffimageloading:CachedImage.GestureRecognizers>
                                                </ffimageloading:CachedImage>
                                            <Label Margin="7,4,0,0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding tor_nombre}" HorizontalTextAlignment="Start" FontSize="Medium" FontFamily="Oswald-Regular" />
                                            <Label Margin="6,0,0,0" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" HorizontalTextAlignment="Start" Text="{Binding tor_fecha_hora_inicio}" FontSize="Small" FontFamily="Oswald-Regular" />
                                            <Image Margin="15" Grid.Row="1" Grid.Column="2" Grid.RowSpan="2" Aspect="AspectFit" Source="Favorito">
                                                <Image.GestureRecognizers>
                                                    <TapGestureRecognizer Command="{Binding GuardaFavoritoCommand}" />
                                                </Image.GestureRecognizers>
                                            </Image>
                                            <Image Margin="15" Grid.Row="1" Grid.Column="3" Grid.RowSpan="2" Aspect="AspectFit" Source="Compartir">
                                                <Image.GestureRecognizers>
                                                    <TapGestureRecognizer Command="{Binding CompartirCommand}" />
                                                </Image.GestureRecognizers>
                                            </Image>
                                        </Grid>
                                    </DataTemplate>
                                </cv:CarouselViewControl.ItemTemplate>
                            </cv:CarouselViewControl>
                            <Image  Source = "tarjeta.png" 
                        HeightRequest = "200"
                        WidthRequest = "200">
                </Image>
                        </StackLayout>
                    </Frame>
                </StackLayout>
            </ScrollView>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>